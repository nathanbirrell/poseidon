<p id="notice"><%= notice %></p>

<h1>Spots</h1>

<% if user_signed_in? %>
  <div class="small-4 large-6">
    <%= link_to '+ NEW SPOT', new_spot_path, class: 'button' %>
  </div>
<% end %>

<div class="small-4 large-6">
  <form>
    <select id="view-select" name="view-select">
      <option value="list">List</option>
      <option value="tiles" selected>Tiles</option>
    </select>
  </form>
</div>

<h3>Current Conditions</h3>
<% @spots.each do |spot| %>
  <div class="large-4 medium-6 small-12 spot-tile">
    <%= link_to spot do %>
      <div class="spot-tile__image" style="background-image: url('<%= spot.image %>')"></div>
      <div class="spot-tile__summary">
        <div class="spot-tile__main-rating --<%= get_verdict(spot.current_potential) %>"><%= trim(spot.current_potential) %></div>
        <h3><%= spot.name %><br></h3>
        <div class="spot-sub-rating-group">
          <span class="spot-sub-rating-group__item --swell --<%= get_verdict(spot.current_swell.rating) %>"><%= trim(spot.current_swell.rating.round(0)) %></span>
          <span class="spot-sub-rating-group__item --wind --<%= get_verdict(spot.current_wind.rating) %>"><%= trim(spot.current_wind.rating.round(0)) %></span>
          <span class="spot-sub-rating-group__item --tide --<%= get_verdict(spot.current_tide_rating) %>"><%= trim(spot.current_tide_rating.round(0)) %></span>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<h3>Collapsed</h3>
<% @spots.each do |spot| %>
  <%= link_to spot do %>
   <div class="large-4 medium-6 small-12 spot-list-item">
     <div class="spot-list-item__main-rating --positive"><span>89</span></div>
     <h3 class="spot-list-item__name"><%= spot.name %></h3>
     <div class="spot-sub-rating-group">
       <span class="spot-sub-rating-group__item --swell --positive">89</span>
       <span class="spot-sub-rating-group__item --wind --mixed">89</span>
       <span class="spot-sub-rating-group__item --tide --negative">89</span>
     </div>
   </div>
  <% end %>
<% end %>

<h3>Forecasts</h3>
<% @spots.each do |spot| %>
  <div class="large-4 medium-6 small-12 spot-tile">
    <%= link_to spot do %>
      <div class="spot-tile__image" style="background-image: url('<%= spot.image %>')"></div>
      <div class="spot-tile__summary">
        <div class="spot-tile__main-rating --positive">89</div>
        <h3><%= spot.name %></h3>
        <div class="spot-plan-summary">
          <span class="spot-plan-summary__item --positive">
            <p>F</p>
          </span>
          <span class="spot-plan-summary__item --positive">
            <p>S</p>
          </span>
          <span class="spot-plan-summary__item --mixed">
            <p>S</p>
          </span>
          <span class="spot-plan-summary__item --negative">
            <p>M</p>
          </span>
          <span class="spot-plan-summary__item --mixed">
            <p>T</p>
          </span>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<h3>Collapsed</h3>
<% @spots.each do |spot| %>
  <%= link_to spot do %>
    <div class="large-4 medium-6 small-12 spot-list-item">
      <div class="spot-list-item__main-rating --positive"><span>89</span></div>
      <h3 class="spot-list-item__name"><%= spot.name %></h3>
      <div class="spot-plan-summary">
        <span class="spot-plan-summary__item --positive">
          <p>F</p>
        </span>
        <span class="spot-plan-summary__item --positive">
          <p>S</p>
        </span>
        <span class="spot-plan-summary__item --mixed">
          <p>S</p>
        </span>
        <span class="spot-plan-summary__item --negative">
          <p>M</p>
        </span>
        <span class="spot-plan-summary__item --mixed">
          <p>T</p>
        </span>
      </div>
    </div>
  <% end %>
<% end %>

<br><br>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Optimal wind</th>
      <th>Optimal swell</th>
      <th>Season</th>
    </tr>
  </thead>

  <tbody>
    <% @spots.each do |spot| %>
      <tr>
        <td>
          <%= link_to spot.name, spot %> <br>
          <%= link_to 'Edit', edit_spot_path(spot) %>
          <%= link_to 'Destroy', spot, method: :delete, data: { confirm: 'Are you sure?' } %>
        </td>
        <td><%= spot.description %></td>
        <td><%= spot.wind_optimal_direction %></td>
        <td><%= spot.swell_optimal_direction %></td>
        <td><%= spot.season %></td>
      </tr>
    <% end %>
  </tbody>
</table>
