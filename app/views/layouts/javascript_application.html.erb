<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= content_for?(:title) ? yield(:title) : "Poseidon" %></title>
    <meta name="description" content="<%= content_for?(:description) ? yield(:description) : "Poseidon" %>">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700" rel="stylesheet">
    <%= favicon_link_tag %>

    <%= stylesheet_pack_tag 'styles' %>

    <script>window.twttr = (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = [];
        t.ready = function(f) {
          t._e.push(f);
        };

        return t;
      }(document, "script", "twitter-wjs"));
    </script>

    <%= csrf_meta_tags %>
  </head>
  <body>

    <div id="poseidon-app">
      <%# TODO: remove this, just need to figure a way to pass messages down via an API %>
      <%= render 'layouts/messages' %>

      <%= yield %>
    </div>

    <%= javascript_pack_tag 'application' %>

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-101910598-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());

      gtag('config', 'UA-101910598-1');
    </script>
  </body>
</html>
